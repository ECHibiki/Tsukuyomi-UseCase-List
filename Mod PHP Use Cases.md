# Mod.php list
Prevent cross site or URL linked style attacks<br/>
System of permissions restricting unauthorized users from some sections<br/>
All actions go into the mod log<br/>
An awareness of what's on the overboard should prevent /all/ rebuilds<br/>

  - Section: Illegal
    - Batch action of banning image, poster and deleting   
  - Section: Page
    - Display a static page created by the generator
  -  Section: Login 
    - Handle a succesful login
    - Write cookies
    - Handle fails  
      - Standard fail action
      - Add captcha to IP after 3 attempts 
  -  Section: Confirm
    - A method of handling URL links to mod requests   
  - Section: Logout
    - Removing login cookies and any other DB info that is associated with logins
  - Section: Dashboard
    - A list of important mod actions
    - Updaters for when new information/messages are available
      - Reports, Appeals, Mod Messages
  - Section: Stats
    - Listing of site data
    - Post rates, IP activity
    - Also can do a check for disk usage across all server
    - Also can do a graph for storing data each time someone checks the stats page
      - Possibly with an update goroutine or bot
  - Section: Mod search
    - Search by:
      - Post info(IP, body, tripcodes, capcodes, names, File info)
      - Moderator notes
      - Ban list
      - Mod logs
    - Maybe some of these should be inside of the specif features themselves...
  - Section: Board creation/edit interchangeble
    - Set URI only on create(and verify it's a valid URI name)
    - Changing names, subtitles 
    - Topic and categories
    - Pollboards, fileboards, scoreboards (generalize these so that it can be freely applied)
  - Section: Mod logs
    - A log of actions that mods and the system perform
    - Filter actions down to specific users
    - FIlter actions to specific boards
  - Section: Mod view
    - Display a board with the HTML pages showing mod actions on each post
    - Display IPs 
    - Index, threads and maybe /all/?
  - Section: IP Notes
    - Have mods add or remove notes
    - Display dates, time, mod
    - List the notes for the IP
  - Section: IP Address page
    - Have a paged list of the users activity on all boards
    - Allow mod to scroll through each page of a given board
    - Display IP info/hostname
    - Ban IPs from page
  - Section: Bans
    - Add a ban using established reasons and justifications
    - IP and subnet bans
    - Not linked to a post
    - Page redirects or json
  - Section: Ban List
    - List all the bans available
    - Paged
    - Limit amount of results based on GET values and page number
    - Said elsewhere. Banlist should be searchable within this page
  - Section: List Whitelist tokens
    - Simple page listing all the token details
    - Page for creating tokens
  - Section: Alter WL Tokens
    - Create, delete and edit existing tokens
  - Section: View Ban whitelist
    - A list of regex for IPs which should bypass VPN bans
    - Post request allows for creating, editting and removing existing filters
  - Section: Appeal list
    - On GET list all the appeals with automatic spam flags
    - On POST may allow for: 
      - Adding the IP to a whitelist
      - Giving a denial reason
      - Unbanning the IP along with any ranges associated
        - I think this should change
  - Section: Mod Zombie or Lock, Bumplock, Agelock
    - Modify the thread with the flag 
    - Rebuild /all/, /board/ and all other associated pages
  - Section: Mod Sticky
    - Set the flag and bump it 
    - Or unset the flag and do not bump it
  - Section: Mod Cycle
    - Modify the thread with the given flag
    - Send a bunch of posts to the recycling bin
  - Section: Batch move
    - Gather up a bunch of sent posts
    - Identify which of these are threads, remove any of the posts in the list associated with the thread.
    - Cites and links of posts need to be adjusted
    - Move thread to destination with posts, then individual posts into the destination.
      - Could create a new thread with new posts or add a thread and posts to an existing thread
      - New thread occurs if there's no target
    - Relocate associated files
    - Existing posts need not be deleted because the DB should just require a board name change   
    - Finally do a rebuild of pages
  - Section: Move reply
    - Replies being moved may create a new thread or be placed into other threads
    - No such thing as shadow moves
    - Simply reassign the post in the database to a new destination
    - Cites and links of posts need to be adjusted
    - relocate any files 
    - Rebuild pages
  - Section: Mod nerf move
    - Move a thread or post into the transparency board
    - Files need to be tagged with "Deleted by X from Y" with replies given "Moved by followup"
    -  Deletes reset the bump order unless explicitly specified to maintain it
    - Rebuild pages
  - Section: Thread move
    - For shadow instead of move it will copy and add a post to the origin 
    - Make a relocation of the head of the thread with image
    - Move cary on to do it with all the posts
      - Possiblity of using 'section: move reply' here
    - Clear old cites and build new ones
    - Retarget links to new items
    - Rebuild pages
  - Section: Ban file hash
    - Take thread image
    - Apply hash check algorithm
    - Store banned hash
    - Various error checks for invalid files
  - Section: Ban post
    - Take a given post
    - Apply a ban to it's IP and store the post data associated with it 
      - IP may be modified into a subnet
    - Preset reasons with custom justificatiosn
    - For a public ban add a custom message to the ban object and append it to the existing post(requires page rebuild)
    - Also may have the delete modifier which could be a true delete or a nerfed delete
  - Section: Edit post
    - Take a post and edit it
      - HTML mode causes an override to the pre-markup mode
      - Markup mode handled as normal
    - Rebuild the cites for both markup and html mode 
    - Rebuild pages
  - Section: Batch delete
    - Follow the route of nerf delete or true delete
    - True:
      - For each post apply a moderator delete action. 
      - If a thread was deleted then a missing post will be skipped without error  
    - Nerf:
      - Apply the batch move algorithm
      - The first numbered deleted item creates a thread in /trans/ 
        - Deleted items could come from the overboard, but not yet for our current site abilities 
      - If it's a thread then remove any posts in the list which are associated and move the full thread into the delete target
      - Images follow with the move
    -  Deletes reset the bump order unless explicitly specified to maintain it
    - Rebuild pages
  - Section: True delete
    -  For a given post, apply a delete to it.
    -  Deleted post goes into the recycling bin to be cleared on a timer
    -  Deletes reset the bump order unless explicitly specified to maintain it
    -  Rebuild pages
  - Section: Delete file
    - Send the file to the recycling bin for timed removal
    - Rebuild pages
  - Section: Spoiler file
    - Apply spoilers to an image, removing the thumbnail
    - Rebuild pages
  - Section: Unspoiler file
    - Use thumbnailing algorithms to recreate the thumbnail from the base image
    - Rebuild pages
  - Section: Delete by IP
    - Determine if it's Site wide or board wide
    - Collect the posts with the given IP
    - Begin recycling operation on all
    - Rebuild pages when done 
